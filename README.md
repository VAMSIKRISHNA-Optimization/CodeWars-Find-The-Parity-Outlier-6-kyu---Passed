# CodeWars-Find-The-Parity-Outlier-6-kyu---Passed
You are given an array (which will have a length of at least 3, but could be very large) containing integers. The array is either entirely comprised of odd integers or entirely comprised of even integers except for a single integer N. Write a method that takes the array as an argument and returns this "outlier" N.

Examples
[2, 4, 0, 100, 4, 11, 2602, 36] -->  11 (the only odd number)

[160, 3, 1719, 19, 11, 13, -21] --> 160 (the only even number)

#[cfg(test)]
mod tests {
    use crate::find_outlier;

    #[test]
    fn basic_test() {
        let t1 = [2,6,8,-10,3];
        let t2 = [206847684,1056521,7,17,1901,21104421,7,1,35521,1,7781];
        let t3 = [std::i32::MAX, 0, 1];
        assert_eq!(3, find_outlier(&t1));
        assert_eq!(206847684, find_outlier(&t2));
        assert_eq!(0, find_outlier(&t3));
    }

    #[test]
    fn simple_test() {
        let ints1 = [2,6,8,10,3]; //odd at the back
        let ints2 = [2,6,8,200,700,1,84,10,4]; //odd in the middle
        let ints3 = [17,6,8,10,6,12,24,36]; //odd in the front
        let ints4 = [2,1,7,17,19,211,7]; //even in the front
        let ints5 = [1,1,1,1,1,44,7,7,7,7,7,7,7,7]; //even in the middle
        let ints6 = [3,3,3,3,3,3,3,3,3,3,3,3,3,3,35,5,5,5,5,5,5,5,5,5,5,7,7,7,7,1000]; //even at the end
        let ints7 = [2,-6,8,-10,-3]; //odd at the back, negative
        let ints8 = [2,6,8,2,-66,34,-35,66,700,1002,-84,10,4]; //odd in the middle, negative
        let ints9 = [-1* std::i32::MAX,-18,6,-8,-10,6,12,-24,36]; //odd in the front, negative
        let ints10 = [-20,1,7,17,19,211,7]; //even in the front, negative
        let ints11 = [1,1,-1,1,1,-44,7,7,7,7,7,7,7,7]; //even in the middle, negative
        let ints12 = [1,0,0]; //odd answer, zeroes
        let ints13 = [3,7,-99,81,90211,0,7]; //find_outliermiddle&, zero
        let ints14 = [0, 2, -1];

        assert_eq!(3, find_outlier(&ints1));
        assert_eq!(1, find_outlier(&ints2));
        assert_eq!(17, find_outlier(&ints3));
        assert_eq!(2, find_outlier(&ints4));
        assert_eq!(44, find_outlier(&ints5));
        assert_eq!(1000, find_outlier(&ints6));
        assert_eq!(-3, find_outlier(&ints7));
        assert_eq!(-35, find_outlier(&ints8));
        assert_eq!(-1 * std::i32::MAX, find_outlier(&ints9));
        assert_eq!(-20, find_outlier(&ints10));
        assert_eq!(-44, find_outlier(&ints11));
        assert_eq!(1, find_outlier(&ints12));
        assert_eq!(0, find_outlier(&ints13));
        assert_eq!(-1, find_outlier(&ints14));
    }

    #[test]
    fn random_test() {
        use rand::prelude::*;

        let rng = rand::thread_rng();   // random number generator instance

        let short_size = 400;
        let max_size = 10_000_000;

        let random_odd_number = |mut r: ThreadRng| (r.gen::<i16>() as i32 -1)  * 2 -1;
        // let random_even_number = |mut r: ThreadRng| (r.gen::<i16>() as i32 -1) * 2;

        // create vector with random value generated by given closure
        let create_vec = |size: usize, f: fn(r: ThreadRng) -> i32|{
            let f = |_| f(rng.clone());
            (0..size).map(f).collect::<Vec<_>>()
        };

        // change random value in the vec and test it with users function
        let test = |v: &mut Vec<i32>|{
            let max = v.len();
            let pos = rng.clone().gen_range(0_usize..max);

            v[pos] += 1;    // set
            assert_eq!(v[pos], find_outlier(&v));   // test
            v[pos] -= 1;    // unset
        };


        // test short
        let mut v_short = create_vec(short_size, random_odd_number);
        (0..100).for_each(|_| test(&mut v_short));   // odd
        let mut v_short: Vec<_> = v_short.into_iter().map(|n| n + 1).collect(); // make even
        (0..100).for_each(|_| test(&mut v_short));   // even

        // test big
        let mut v_max = create_vec(max_size, random_odd_number);
        test(&mut v_max);   // test odd
        let mut v_max:Vec<_> = v_max.into_iter().map(|n| n + 1).collect(); // make even
        test(&mut v_max);   // test even
    }
}
